{"ast":null,"code":"import _objectSpread from \"/home/iseestars/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/js-projects/test-react-apps/task-timer-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { CHANGE_TIMER } from './actions.js';\nimport { GET_TASK_NAME } from './actions.js';\nimport { CHANGE_SECONDS } from './actions.js';\nimport { RESET_COUNT } from './actions.js';\nlet initialState;\n\nif (localStorage['redux-store']) {\n  initialState = JSON.parse(localStorage['redux-store']);\n} else {\n  initialState = {\n    isTimerWorking: false,\n    seconds: 0,\n    startTime: {\n      hours: this.isTimerWorking ? new Date().getHours() : null,\n      minutes: this.isTimerWorking ? new Date().getMinutes() : null\n    },\n    startMoment: this.isTimerWorking ? Date.now() : null,\n    taskNameInput: '',\n    doneTasks: []\n  };\n}\n\nexport const reducer = (state = initialState, action) => {\n  if (!state.isTimerWorking && state.taskNameInput && action.type === CHANGE_TIMER) {\n    return _objectSpread({}, state, {\n      isTimerWorking: true,\n      onButtonClick: false\n    });\n  } else if (!state.isTimerWorking && !state.taskNameInput && action.type === CHANGE_TIMER) {\n    return _objectSpread({}, state, {\n      onButtonClick: true\n    });\n  } else if (state.isTimerWorking && action.type === CHANGE_TIMER) {\n    return _objectSpread({}, state, {\n      isTimerWorking: false,\n      doneTasks: [...state.doneTasks, {\n        id: Date.now(),\n        name: state.taskNameInput,\n        startTime: state.startTime,\n        stopTime: {\n          hours: new Date().getHours(),\n          minutes: new Date().getMinutes()\n        },\n        duration: ((Date.now() - state.startMoment) / 1000).toFixed(1)\n      }],\n      startTime: {\n        hours: null,\n        minutes: null\n      },\n      startMoment: null,\n      taskNameInput: ''\n    });\n  } else if (action.type === GET_TASK_NAME) {\n    return _objectSpread({}, state, {\n      taskNameInput: action.payload\n    });\n  } else if (action.type === CHANGE_SECONDS) {\n    return _objectSpread({}, state, {\n      seconds: parseInt((action.payload - state.startMoment) / 1000)\n    });\n  } else if (action.type === RESET_COUNT) {\n    return _objectSpread({}, state, {\n      seconds: 0\n    });\n  } else return state;\n};","map":{"version":3,"sources":["/home/iseestars/Документы/js-projects/test-react-apps/task-timer-app/src/store/reducers.js"],"names":["CHANGE_TIMER","GET_TASK_NAME","CHANGE_SECONDS","RESET_COUNT","initialState","localStorage","JSON","parse","isTimerWorking","seconds","startTime","hours","Date","getHours","minutes","getMinutes","startMoment","now","taskNameInput","doneTasks","reducer","state","action","type","onButtonClick","id","name","stopTime","duration","toFixed","payload","parseInt"],"mappings":"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","sourcesContent":["import { CHANGE_TIMER } from './actions.js'\nimport { GET_TASK_NAME } from './actions.js'\nimport { CHANGE_SECONDS } from './actions.js'\nimport { RESET_COUNT } from './actions.js'\n\nlet initialState\n\nif(localStorage['redux-store']){\n    initialState = JSON.parse(localStorage['redux-store'])\n} else {\n    initialState = {\n        isTimerWorking: false,\n        seconds: 0,\n        startTime: {\n            hours: this.isTimerWorking ? new Date().getHours() : null,\n            minutes: this.isTimerWorking ? new Date().getMinutes() : null,\n        },\n        startMoment: this.isTimerWorking ? Date.now() : null,\n        taskNameInput: '',\n        doneTasks: []\n    }\n}\n\nexport const reducer = (state = initialState, action) => {\n    if (!state.isTimerWorking && state.taskNameInput && action.type === CHANGE_TIMER){\n        return {...state, isTimerWorking: true,\n            onButtonClick: false\n        }\n    } else if (!state.isTimerWorking && !state.taskNameInput && action.type === CHANGE_TIMER){\n        return {\n            ...state, onButtonClick: true\n        }\n    } else if (state.isTimerWorking && action.type === CHANGE_TIMER){\n        return {...state, isTimerWorking: false,\n            doneTasks: [...state.doneTasks, {\n                id: Date.now(),\n                name: state.taskNameInput,\n                startTime: state.startTime,\n                stopTime: {\n                    hours: new Date().getHours(),\n                    minutes: new Date().getMinutes(),\n                },\n                duration: ((Date.now() - state.startMoment)/1000).toFixed(1)\n            }],\n            startTime: {\n                hours: null,\n                minutes: null,\n            },\n            startMoment: null,\n            taskNameInput: ''\n        }\n    } else if (action.type === GET_TASK_NAME){\n        return {...state, taskNameInput: action.payload}\n    } else if (action.type === CHANGE_SECONDS){\n        return {...state, seconds: parseInt((action.payload - state.startMoment)/1000)}\n    } else if (action.type === RESET_COUNT){\n        return {...state, seconds: 0}\n    } else return state\n}"]},"metadata":{},"sourceType":"module"}