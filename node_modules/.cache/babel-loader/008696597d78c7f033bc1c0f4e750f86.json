{"ast":null,"code":"import _objectSpread from \"/home/iseestars/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/js-projects/test-react-apps/task-timer-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { CHANGE_TIMER, GET_TASK_NAME, CHANGE_SECONDS, RESET_COUNT, REMOVE_ITEM } from './actions.js';\nlet initialState;\n\nif (localStorage['redux-store']) {\n  initialState = JSON.parse(localStorage['redux-store']);\n} else {\n  initialState = {\n    isTimerWorking: false,\n    attentionBanner: false,\n    seconds: 0,\n    startTime: {\n      hours: null,\n      minutes: null\n    },\n    startMoment: null,\n    taskNameInput: '',\n    doneTasks: []\n  };\n}\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CHANGE_TIMER:\n      return _objectSpread({}, state, {\n        isTimerWorking: !!state.taskNameInput ? !state.isTimerWorking : state.isTimerWorking,\n        attentionBanner: !state.taskNameInput,\n        startTime: {\n          hours: !state.isTimerWorking ? new Date().getHours() : null,\n          minutes: !state.isTimerWorking ? new Date().getMinutes() : null\n        },\n        startMoment: !state.isTimerWorking ? Date.now() : null,\n        taskNameInput: state.isTimerWorking ? '' : state.taskNameInput,\n        doneTasks: state.isTimerWorking ? [...state.doneTasks, {\n          id: Date.now(),\n          name: state.taskNameInput,\n          startTime: state.startTime,\n          stopTime: {\n            hours: new Date().getHours(),\n            minutes: new Date().getMinutes()\n          },\n          duration: ((Date.now() - state.startMoment) / 1000).toFixed(1)\n        }] : [...state.doneTasks]\n      });\n\n    case GET_TASK_NAME:\n      return _objectSpread({}, state, {\n        taskNameInput: action.payload\n      });\n\n    case CHANGE_SECONDS:\n      return _objectSpread({}, state, {\n        seconds: state.startMoment ? parseInt((Date.now() - state.startMoment) / 1000) : 0\n      });\n\n    case RESET_COUNT:\n      return _objectSpread({}, state, {\n        seconds: 0\n      });\n\n    case REMOVE_ITEM:\n      return _objectSpread({}, state, {\n        doneTasks: state.doneTasks.filter(elem => elem.id)\n      });\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/iseestars/Документы/js-projects/test-react-apps/task-timer-app/src/store/reducers.js"],"names":["CHANGE_TIMER","GET_TASK_NAME","CHANGE_SECONDS","RESET_COUNT","REMOVE_ITEM","initialState","localStorage","JSON","parse","isTimerWorking","attentionBanner","seconds","startTime","hours","minutes","startMoment","taskNameInput","doneTasks","reducer","state","action","type","Date","getHours","getMinutes","now","id","name","stopTime","duration","toFixed","payload","parseInt","filter","elem"],"mappings":"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","sourcesContent":["import { CHANGE_TIMER, GET_TASK_NAME, CHANGE_SECONDS, RESET_COUNT, REMOVE_ITEM } from './actions.js'\n\nlet initialState\n\nif(localStorage['redux-store']){\n    initialState = JSON.parse(localStorage['redux-store'])\n} else {\n    initialState = {\n        isTimerWorking: false,\n        attentionBanner: false,\n        seconds: 0,\n        startTime: {\n            hours: null,\n            minutes: null,\n        },\n        startMoment: null,\n        taskNameInput: '',\n        doneTasks: []\n    }\n}\n\nexport const reducer = (state = initialState, action) => {\n    switch(action.type){\n        case CHANGE_TIMER: \n            return {...state, isTimerWorking: !!state.taskNameInput ? !state.isTimerWorking : state.isTimerWorking,\n                attentionBanner: !state.taskNameInput,\n                startTime: {\n                    hours: !state.isTimerWorking ? new Date().getHours() : null,\n                    minutes: !state.isTimerWorking ? new Date().getMinutes() : null,\n                },\n                startMoment: !state.isTimerWorking ? Date.now() : null,\n                taskNameInput: state.isTimerWorking ? '' : state.taskNameInput,\n                doneTasks: state.isTimerWorking ? [...state.doneTasks, {\n                    id: Date.now(),\n                    name: state.taskNameInput,\n                    startTime: state.startTime,\n                    stopTime: {\n                        hours: new Date().getHours(),\n                        minutes: new Date().getMinutes(),\n                    },\n                    duration: ((Date.now() - state.startMoment)/1000).toFixed(1)\n                }] : [...state.doneTasks]\n            }\n        case GET_TASK_NAME:\n            return {...state, taskNameInput: action.payload}\n        case CHANGE_SECONDS:\n            return {...state, seconds: state.startMoment ? parseInt((Date.now() - state.startMoment)/1000) : 0}\n        case RESET_COUNT:\n            return {...state, seconds: 0}\n        case REMOVE_ITEM:\n            return {...state, doneTasks: state.doneTasks.filter(elem => elem.id) }\n        default: \n            return state\n    }\n}"]},"metadata":{},"sourceType":"module"}